box: node:6
build:
  steps:
    - script:
      name: set yarn cache
      code: |
        export YARN_CACHE=$WERCKER_CACHE_DIR/yarn

    - script:
      name: install dependencies
      code: |
        HOME=$YARN_CACHE yarn

    - script:
      name: lint
      code: |
        yarn run lint

    - script:
      name: build
      code: |
        yarn run compile

deploy:
  steps:
    - script:
      name: publish
      code: |
        npm publish
